<head>
  <style> body { margin: 0; } </style>

  <script src="//unpkg.com/force-graph"></script>
  <!--<script src="../../dist/force-graph.js"></script>-->
</head>

<body>
<div id="graph"></div>

<script>
  fetch('../datasets/portland_budget.json').then(res => res.json()).then(data => {
    
    const elem = document.getElementById('graph');

    const Graph = ForceGraph()(elem)
       function scaleValue(value, from, to) {
	    var scale = (to[1] - to[0]) / (from[1] - from[0]);
	    var capped = Math.min(from[1], Math.max(from[0], value)) - from[0];
	    return ~~(capped * scale + to[0]);
        };
      .graphData(data)
      .nodeId('id')
      .nodeLabel('id')
      .nodeVal('value')
      .linkAutoColorBy('group')
      .linkOpacity(0.7)
      .onNodeClick(node => {
        // Center/zoom on node
        Graph.centerAt(node.x, node.y, 1000);
        Graph.zoom(8, 2000);
      });
  });
</script>
</body>
